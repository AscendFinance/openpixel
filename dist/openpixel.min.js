// Open Pixel v1.3.0 | Published By Dockwa | Created By Stuart Yamartino | MIT License
!function(n,a,r,t){"use strict";function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,n;t=r,e=i[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var f={id:"",params:{cid:function(){return n.gaGlobal?n.gaGlobal.vid:void 0}},version:1},m=function(){function t(){c(this,t)}return l(t,null,[{key:"isPresent",value:function(e){return null!=e&&""!==e}},{key:"now",value:function(){return+new Date}},{key:"guid",value:function(){return f.version+"-xxxxxxxx-".replace(/[x]/g,function(e){var t=36*Math.random()|0;return("x"==e?t:3&t|8).toString(36)})+(+new Date).toString(36)}},{key:"optionalData",value:function(e){return!1===t.isPresent(e)?"":"object"===u(e)?t.optionalData(JSON.stringify(e)):"function"==typeof e?t.optionalData(e()):String(e)}}]),t}(),g=function(){function e(){c(this,e)}return l(e,null,[{key:"nameAndVersion",value:function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}},{key:"isMobile",value:function(){return"ontouchstart"in n||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints}},{key:"userAgent",value:function(){return n.navigator.userAgent}}]),e}(),p=function(){function e(){c(this,e)}return l(e,null,[{key:"prefix",value:function(){return"__".concat(t,"_")}},{key:"set",value:function(e,t,n){var r,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"/",o="";m.isPresent(n)&&((r=new Date).setTime(r.getTime()+60*n*1e3),o="expires=".concat(r.toGMTString(),"; ")),a.cookie="".concat(this.prefix()).concat(e,"=").concat(t,"; ").concat(o,"path=").concat(i,"; SameSite=Lax; domain=.").concat(a.location.host.split(".").reverse().slice(0,2).reverse().join("."))}},{key:"get",value:function(e){for(var e="".concat(this.prefix()).concat(e,"="),t=a.cookie.split(";"),n=0;n<t.length;n++){for(var r=t[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}}},{key:"delete",value:function(e){this.set(e,"",-100)}},{key:"exists",value:function(e){return m.isPresent(this.get(e))}},{key:"setUtms",value:function(){for(var e=["utm_source","utm_medium","utm_term","utm_content","utm_campaign"],t=!1,n=0,r=e.length;n<r;n++)if(m.isPresent(d.getParameterByName(e[n]))){t=!0;break}if(t){for(var i,o={},n=0,r=e.length;n<r;n++)i=d.getParameterByName(e[n]),m.isPresent(i)&&(o[e[n]]=i);this.set("utm",JSON.stringify(o))}}},{key:"getUtm",value:function(e){if(this.exists("utm")){var t=JSON.parse(this.get("utm"));return e in t?t[e]:""}}}]),e}(),h=function(){function e(){c(this,e)}return l(e,null,[{key:"prefix",value:function(){return"__".concat(t,"_")}},{key:"get",value:function(e){return localStorage.getItem(this.prefix()+e)}},{key:"exists",value:function(e){return m.isPresent(this.get(e))}},{key:"setUtms",value:function(){for(var e=["utm_source","utm_medium","utm_term","utm_content","utm_campaign"],t=!1,n=0,r=e.length;n<r;n++)if(m.isPresent(d.getParameterByName(e[n]))){t=!0;break}if(t){for(var i,o={},n=0,r=e.length;n<r;n++)i=d.getParameterByName(e[n]),m.isPresent(i)&&(o[e[n]]=i);this.set("utm",JSON.stringify(o))}}},{key:"getUtm",value:function(e){if(this.exists("utm")){var t=JSON.parse(this.get("utm"));return e in t?t[e]:""}}},{key:"set",value:function(e,t){localStorage.setItem(this.prefix()+e,t)}},{key:"remove",value:function(e){localStorage.removeItem(this.prefix()+e)}}]),e}(),d=function(){function e(){c(this,e)}return l(e,null,[{key:"getParameterByName",value:function(e,t){t=t||n.location.href,e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}},{key:"externalHost",value:function(e){return e.hostname!=location.hostname&&0===e.protocol.indexOf("http")}}]),e}(),v=function(){function r(e,t,n){c(this,r),this.params=[],this.event=e,this.timestamp=t,this.optional=m.optionalData(n),this.buildParams(),this.send()}return l(r,[{key:"buildParams",value:function(){var e,t=this.getAttribute();for(e in t)t.hasOwnProperty(e)&&this.setParam(e,t[e](e))}},{key:"getAttribute",value:function(){var e=this;return i({id:function(){return f.id},uid:function(){return p.get("uid")||h.get("uid")},ev:function(){return e.event},ed:function(){return e.optional},v:function(){return f.version},dl:function(){return n.location.href},rl:function(){return a.referrer},ts:function(){return e.timestamp},de:function(){return a.characterSet},sr:function(){return n.screen.width+"x"+n.screen.height},vp:function(){return n.innerWidth+"x"+n.innerHeight},cd:function(){return n.screen.colorDepth},dt:function(){return a.title},bn:function(){return g.nameAndVersion()},md:function(){return g.isMobile()},ua:function(){return g.userAgent()},tz:function(){return(new Date).getTimezoneOffset()},utm_source:function(e){return p.getUtm(e)||h.getUtm(e)},utm_medium:function(e){return p.getUtm(e)||h.getUtm(e)},utm_term:function(e){return p.getUtm(e)||h.getUtm(e)},utm_content:function(e){return p.getUtm(e)||h.getUtm(e)},utm_campaign:function(e){return p.getUtm(e)||h.getUtm(e)}},f.params)}},{key:"setParam",value:function(e,t){m.isPresent(t)?this.params.push("".concat(e,"=").concat(encodeURIComponent(t))):this.params.push("".concat(e,"="))}},{key:"send",value:function(){n.navigator.sendBeacon?this.sendBeacon():this.sendImage()}},{key:"sendBeacon",value:function(){n.navigator.sendBeacon(this.getSourceUrl())}},{key:"sendImage",value:function(){this.img=a.createElement("img"),this.img.src=this.getSourceUrl(),this.img.style.display="none",this.img.width="1",this.img.height="1",a.getElementsByTagName("body")[0].appendChild(this.img)}},{key:"getSourceUrl",value:function(){return"".concat("https://tracker.coverrightmedicare.com/pixel.gif","?").concat(this.params.join("&"))}}]),r}();p.exists("uid")?p.set("uid",p.get("uid"),1051200):(x=(b=new URLSearchParams(n.location.search)).has("uid")?b.get("uid"):m.guid(),p.set("uid",x,1051200)),p.exists("uid")||h.get("uid")||h.set("uid",m.guid()),p.setUtms(),p.exists("utm")||h.setUtms(),r.process=function(e,t,n){"init"===e?f.id=t:"param"===e?f.params[t]=function(){return n}:"event"===e&&("pageload"!==t||f.pageLoadOnce?"pageload"!==t&&"pageclose"!==t&&new v(t,m.now(),n):(f.pageLoadOnce=!0,new v(t,r.t,n)))};for(var e=0,y=r.queue.length;e<y;e++)r.process.apply(r,r.queue[e]);var b="object"===("undefined"==typeof safari?"undefined":u(safari))&&safari.pushNotification,x="onpageshow"in self;n.addEventListener(x&&!b?"pagehide":"unload",function(){f.pageCloseOnce||(f.pageCloseOnce=!0,new v("pageclose",m.now(),function(){if(m.isPresent(f.externalHost)&&m.now()-f.externalHost.time<5e3)return f.externalHost.link}))}),n.onload=function(){for(var e=a.getElementsByTagName("a"),t=0,n=e.length;t<n;t++)e[t].addEventListener("click",function(e){d.externalHost(this)&&(f.externalHost={link:this.href,time:m.now()})}.bind(e[t]));for(var r=a.querySelectorAll("[data-opix-event]"),t=0,n=r.length;t<n;t++)r[t].addEventListener("click",function(e){var t=this.getAttribute("data-opix-event");t&&new v(t,m.now(),this.getAttribute("data-opix-data"))}.bind(r[t]))}}(window,document,window.opix,"opix");